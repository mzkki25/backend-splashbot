2025-05-15 09:48:14,599 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 09:48:14,599 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 09:48:20,898 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 09:48:21,237 - INFO - Use pytorch device_name: cpu
2025-05-15 09:48:21,237 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 09:50:28,360 - INFO - Fetching chat history for user: Udt024ytXcVrhXu09qHRVJXgg1c2
2025-05-15 09:50:28,904 - INFO - Chat history fetched successfully for user: Udt024ytXcVrhXu09qHRVJXgg1c2
2025-05-15 09:50:29,053 - INFO - Fetching chat messages for session: 68349c73-4f4d-4853-8f32-2640a0cdf848 for user: Udt024ytXcVrhXu09qHRVJXgg1c2
2025-05-15 09:50:29,053 - WARNING - Chat session not found: 68349c73-4f4d-4853-8f32-2640a0cdf848 for user: Udt024ytXcVrhXu09qHRVJXgg1c2
2025-05-15 09:50:29,053 - ERROR - Error fetching chat messages for session 68349c73-4f4d-4853-8f32-2640a0cdf848 for user Udt024ytXcVrhXu09qHRVJXgg1c2: 404: Chat not found
2025-05-15 09:50:30,928 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 09:51:08,726 - INFO - Fetching chat history for user: Udt024ytXcVrhXu09qHRVJXgg1c2
2025-05-15 09:51:08,812 - INFO - Chat history fetched successfully for user: Udt024ytXcVrhXu09qHRVJXgg1c2
2025-05-15 09:51:08,953 - INFO - Fetching chat messages for session: 0f659fae-f7fb-44fe-936a-5d6c2ce60729 for user: Udt024ytXcVrhXu09qHRVJXgg1c2
2025-05-15 09:51:08,953 - WARNING - Chat session not found: 0f659fae-f7fb-44fe-936a-5d6c2ce60729 for user: Udt024ytXcVrhXu09qHRVJXgg1c2
2025-05-15 09:51:08,962 - ERROR - Error fetching chat messages for session 0f659fae-f7fb-44fe-936a-5d6c2ce60729 for user Udt024ytXcVrhXu09qHRVJXgg1c2: 404: Chat not found
2025-05-15 09:51:10,765 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 09:51:19,276 - INFO - User login attempt: zuhdi
2025-05-15 09:51:19,292 - INFO - User found: zuhdi@gmail.com
2025-05-15 09:51:19,738 - INFO - Custom token created for user: Udt024ytXcVrhXu09qHRVJXgg1c2
2025-05-15 09:51:22,295 - INFO - Fetching chat history for user: Udt024ytXcVrhXu09qHRVJXgg1c2
2025-05-15 09:51:22,388 - INFO - Chat history fetched successfully for user: Udt024ytXcVrhXu09qHRVJXgg1c2
2025-05-15 09:51:24,123 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 09:51:25,822 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 09:54:43,538 - INFO - User login attempt: akmal
2025-05-15 09:54:43,538 - INFO - User found: akmal@gmail.com
2025-05-15 09:54:43,872 - INFO - Custom token created for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:54:46,367 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:54:46,473 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:54:48,262 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 09:54:49,788 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 09:55:19,309 - INFO - User login attempt: akmal
2025-05-15 09:55:19,309 - INFO - User found: akmal@gmail.com
2025-05-15 09:55:19,655 - INFO - Custom token created for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:55:25,219 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:55:25,301 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:55:27,147 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 09:55:28,804 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 09:58:07,841 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:58:07,937 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:58:08,080 - INFO - Fetching chat messages for session: 1b17c6b7-2215-4473-b82f-3349e41d44a7 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:58:08,080 - WARNING - Chat session not found: 1b17c6b7-2215-4473-b82f-3349e41d44a7 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:58:08,086 - ERROR - Error fetching chat messages for session 1b17c6b7-2215-4473-b82f-3349e41d44a7 for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 09:58:09,906 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 09:58:15,563 - INFO - User login attempt: akmal
2025-05-15 09:58:15,563 - INFO - User found: akmal@gmail.com
2025-05-15 09:58:15,894 - INFO - Custom token created for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:58:18,580 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:58:18,663 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 09:58:20,362 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 09:58:21,993 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:03:25,207 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 10:03:25,207 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 10:03:30,258 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 10:03:30,656 - INFO - Use pytorch device_name: cpu
2025-05-15 10:03:30,656 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 10:09:52,894 - INFO - User login attempt: akmal
2025-05-15 10:09:52,905 - INFO - User found: akmal@gmail.com
2025-05-15 10:11:54,119 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 10:11:54,119 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 10:11:58,564 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 10:11:58,841 - INFO - Use pytorch device_name: cpu
2025-05-15 10:11:58,841 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 10:12:14,938 - INFO - User login attempt: akmal
2025-05-15 10:12:14,940 - INFO - User found: akmal@gmail.com
2025-05-15 10:12:15,286 - INFO - Custom token created for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:12:22,482 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:12:22,587 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:12:25,347 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:12:27,033 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:15:43,591 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 10:15:43,591 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 10:15:50,114 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 10:15:50,430 - INFO - Use pytorch device_name: cpu
2025-05-15 10:15:50,430 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 10:15:58,631 - INFO - User login attempt: akmal
2025-05-15 10:15:58,633 - INFO - User found: akmal@gmail.com
2025-05-15 10:15:58,996 - INFO - Custom token created for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:16:01,514 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:16:01,606 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:16:03,463 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:16:05,399 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:16:36,038 - INFO - Chat session initialized/updated: 99c5a8ed-45e0-4d70-aab4-9cbfc83b6b6d
2025-05-15 10:16:41,897 - INFO - Response generated for chat session: 99c5a8ed-45e0-4d70-aab4-9cbfc83b6b6d
2025-05-15 10:16:41,981 - INFO - Chat messages saved for session: 99c5a8ed-45e0-4d70-aab4-9cbfc83b6b6d
2025-05-15 10:20:17,422 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:20:17,630 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:20:17,764 - INFO - Fetching chat messages for session: 5c6cb318-9592-4c0b-a69e-4b5f153f999b for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:20:17,764 - WARNING - Chat session not found: 5c6cb318-9592-4c0b-a69e-4b5f153f999b for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:20:17,764 - ERROR - Error fetching chat messages for session 5c6cb318-9592-4c0b-a69e-4b5f153f999b for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:20:19,589 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:20:33,498 - INFO - Chat session initialized/updated: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:20:39,915 - INFO - Response generated for chat session: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:20:40,006 - INFO - Chat messages saved for session: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:22:11,954 - INFO - Chat session initialized/updated: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:22:19,098 - INFO - Response generated for chat session: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:22:19,198 - INFO - Chat messages saved for session: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:25:28,841 - INFO - Chat session initialized/updated: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:25:35,498 - INFO - Response generated for chat session: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:25:35,590 - INFO - Chat messages saved for session: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:27:59,540 - INFO - Chat session initialized/updated: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:28:02,106 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv')
df = df.fillna(0)

provinsi = 'DKI Jakarta'
tahun = 2023

df_filtered = df[(df['prov'] == provinsi) & (df['year'] == tahun)]

if df_filtered.empty:
    raise ValueError("Data tidak ditemukan untuk DKI Jakarta pada tahun 2023")

correlation_matrix = df_filtered.corr()
inflasi_corr = correlation_matrix['penjualan'].drop('penjualan')

positive_corr = inflasi_corr[inflasi_corr > 0].sort_values(ascending=False)

if positive_corr.empty:
    final_answer = pd.DataFrame({'Faktor': ['Tidak ada faktor dengan korelasi positif signifikan']})
else:
    final_answer = pd.DataFrame({'Faktor': positive_corr.index, 'Korelasi': positive_corr.values})
2025-05-15 10:28:12,156 - INFO - Response generated for chat session: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:28:12,257 - INFO - Chat messages saved for session: 5c6cb318-9592-4c0b-a69e-4b5f153f999b
2025-05-15 10:28:36,404 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 10:28:36,414 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:28:36,581 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:28:36,698 - INFO - Fetching chat messages for session: cd0bdb5d-36ba-4cdd-8fd3-90075b43f9f9 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:28:36,698 - WARNING - Chat session not found: cd0bdb5d-36ba-4cdd-8fd3-90075b43f9f9 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:28:36,708 - ERROR - Error fetching chat messages for session cd0bdb5d-36ba-4cdd-8fd3-90075b43f9f9 for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:28:38,707 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:28:43,120 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 10:28:44,689 - INFO - Chat session initialized/updated: cd0bdb5d-36ba-4cdd-8fd3-90075b43f9f9
2025-05-15 10:28:47,140 - INFO - Generated code: 
import pandas as pd

try:
    df = pd.read_csv('dataset/fix_2w.csv')
    df = df.fillna(0)

    if 'pdrb_adhk' not in df.columns or 'penjualan' not in df.columns or 'kab' not in df.columns or 'year' not in df.columns or 'prediksi' not in df.columns:
        raise ValueError("Kolom yang diperlukan tidak ditemukan dalam dataset.")

    df_jabar = df[(df['prov'] == 'Jawa Barat') & (df['year'] >= 2018) & (df['year'] <= 2023)].copy()

    if df_jabar.empty:
        raise ValueError("Tidak ada data untuk Jawa Barat antara tahun 2018 dan 2023.")

    df_jabar['margin'] = df_jabar['prediksi'] - df_jabar['penjualan']

    final_answer = df_jabar.groupby('kab')[['pdrb_adhk', 'margin']].agg(['mean', 'median'])

    final_answer.columns = ['pdrb_adhk_mean', 'pdrb_adhk_median', 'margin_mean', 'margin_median']
    final_answer = final_answer.reset_index()

except Exception as e:
    raise ValueError(f"Terjadi kesalahan: {e}")
2025-05-15 10:28:52,556 - INFO - Response generated for chat session: cd0bdb5d-36ba-4cdd-8fd3-90075b43f9f9
2025-05-15 10:28:52,640 - INFO - Chat messages saved for session: cd0bdb5d-36ba-4cdd-8fd3-90075b43f9f9
2025-05-15 10:33:18,332 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 10:33:18,368 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:33:18,586 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:33:18,707 - INFO - Fetching chat messages for session: 826e6d1a-7c3e-4476-9f61-90329b15e022 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:33:18,718 - WARNING - Chat session not found: 826e6d1a-7c3e-4476-9f61-90329b15e022 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:33:18,719 - ERROR - Error fetching chat messages for session 826e6d1a-7c3e-4476-9f61-90329b15e022 for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:33:20,891 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:34:06,595 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:06,700 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:06,799 - INFO - Fetching chat messages for session: e4dbcc53-9064-4499-87c4-0f60ab61f7b8 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:06,806 - WARNING - Chat session not found: e4dbcc53-9064-4499-87c4-0f60ab61f7b8 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:06,807 - ERROR - Error fetching chat messages for session e4dbcc53-9064-4499-87c4-0f60ab61f7b8 for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:34:08,510 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:34:11,673 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:11,788 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:11,890 - INFO - Fetching chat messages for session: 4703040f-1405-4c9c-857c-bf774489ffef for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:11,901 - WARNING - Chat session not found: 4703040f-1405-4c9c-857c-bf774489ffef for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:11,905 - ERROR - Error fetching chat messages for session 4703040f-1405-4c9c-857c-bf774489ffef for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:34:13,708 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:34:15,847 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:15,958 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:16,066 - INFO - Fetching chat messages for session: ba2179ff-4ccd-432f-b1fb-1028f897d23e for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:16,077 - WARNING - Chat session not found: ba2179ff-4ccd-432f-b1fb-1028f897d23e for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:34:16,080 - ERROR - Error fetching chat messages for session ba2179ff-4ccd-432f-b1fb-1028f897d23e for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:34:18,034 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:39:38,407 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:39:38,624 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:39:38,865 - INFO - Fetching chat messages for session: ba2179ff-4ccd-432f-b1fb-1028f897d23e for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:39:38,867 - WARNING - Chat session not found: ba2179ff-4ccd-432f-b1fb-1028f897d23e for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:39:38,868 - ERROR - Error fetching chat messages for session ba2179ff-4ccd-432f-b1fb-1028f897d23e for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:39:42,224 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:39:48,095 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:39:48,272 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:39:48,399 - INFO - Fetching chat messages for session: ba2179ff-4ccd-432f-b1fb-1028f897d23e for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:39:48,399 - WARNING - Chat session not found: ba2179ff-4ccd-432f-b1fb-1028f897d23e for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:39:48,399 - ERROR - Error fetching chat messages for session ba2179ff-4ccd-432f-b1fb-1028f897d23e for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:39:50,216 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:40:17,183 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:40:17,616 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:40:17,965 - INFO - Fetching chat messages for session: 9d7ab19a-d64d-47a0-9300-7015b0aa1dc0 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:40:17,965 - WARNING - Chat session not found: 9d7ab19a-d64d-47a0-9300-7015b0aa1dc0 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:40:17,965 - ERROR - Error fetching chat messages for session 9d7ab19a-d64d-47a0-9300-7015b0aa1dc0 for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:40:21,087 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:40:32,101 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:40:32,245 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:40:32,390 - INFO - Fetching chat messages for session: 014df4e3-e010-4ad5-a498-194c8518d19c for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:40:32,390 - WARNING - Chat session not found: 014df4e3-e010-4ad5-a498-194c8518d19c for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:40:32,390 - ERROR - Error fetching chat messages for session 014df4e3-e010-4ad5-a498-194c8518d19c for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:40:34,234 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:41:42,069 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:41:42,277 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:41:42,483 - INFO - Fetching chat messages for session: 014df4e3-e010-4ad5-a498-194c8518d19c for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:41:42,493 - WARNING - Chat session not found: 014df4e3-e010-4ad5-a498-194c8518d19c for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:41:42,496 - ERROR - Error fetching chat messages for session 014df4e3-e010-4ad5-a498-194c8518d19c for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:41:44,492 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:41:48,729 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:41:48,826 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:41:48,917 - INFO - Fetching chat messages for session: 014df4e3-e010-4ad5-a498-194c8518d19c for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:41:48,925 - WARNING - Chat session not found: 014df4e3-e010-4ad5-a498-194c8518d19c for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:41:48,925 - ERROR - Error fetching chat messages for session 014df4e3-e010-4ad5-a498-194c8518d19c for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:41:50,919 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:43:30,397 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:43:30,552 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:43:30,828 - INFO - Fetching chat messages for session: 014df4e3-e010-4ad5-a498-194c8518d19c for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:43:30,828 - WARNING - Chat session not found: 014df4e3-e010-4ad5-a498-194c8518d19c for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:43:30,830 - ERROR - Error fetching chat messages for session 014df4e3-e010-4ad5-a498-194c8518d19c for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:43:33,242 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:46:07,575 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:46:07,675 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:46:07,881 - INFO - Fetching chat messages for session: 014df4e3-e010-4ad5-a498-194c8518d19c for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:46:07,885 - WARNING - Chat session not found: 014df4e3-e010-4ad5-a498-194c8518d19c for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:46:07,887 - ERROR - Error fetching chat messages for session 014df4e3-e010-4ad5-a498-194c8518d19c for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:46:10,403 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:47:51,326 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:47:51,434 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:47:51,543 - INFO - Fetching chat messages for session: 9df1afde-e140-4bba-a0f9-93cb99623898 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:47:51,543 - WARNING - Chat session not found: 9df1afde-e140-4bba-a0f9-93cb99623898 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:47:51,543 - ERROR - Error fetching chat messages for session 9df1afde-e140-4bba-a0f9-93cb99623898 for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:47:53,333 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 10:49:59,259 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:49:59,383 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:49:59,492 - INFO - Fetching chat messages for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:49:59,501 - WARNING - Chat session not found: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 10:49:59,501 - ERROR - Error fetching chat messages for session 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 10:50:01,534 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 11:51:00,607 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 11:51:00,611 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 11:51:05,117 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 11:51:05,887 - INFO - Use pytorch device_name: cpu
2025-05-15 11:51:05,887 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 11:51:44,753 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 11:51:44,753 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 11:51:49,728 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 11:51:50,617 - INFO - Use pytorch device_name: cpu
2025-05-15 11:51:50,617 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 12:45:16,902 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 12:45:16,903 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 12:45:31,900 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 12:45:32,823 - INFO - Use pytorch device_name: cpu
2025-05-15 12:45:32,823 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 12:49:28,614 - INFO - User created: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:49:28,953 - INFO - User data saved to Firestore: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:49:39,835 - INFO - User login attempt: zuhdi3@gmail.com
2025-05-15 12:49:39,841 - INFO - User found: zuhdi3@gmail.com
2025-05-15 12:49:40,133 - INFO - Custom token created for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:49:47,038 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:49:47,102 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:49:47,214 - INFO - Fetching chat messages for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:49:47,265 - WARNING - Chat session not found: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:49:47,269 - ERROR - Error fetching chat messages for session 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user 4VNN1XZquSR88N9h9PsIb07SF033: 404: Chat not found
2025-05-15 12:49:49,356 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:50:31,478 - INFO - Chat session initialized/updated: 5fa0e552-cacc-4c98-b2c4-e650c2997bff
2025-05-15 12:50:39,405 - INFO - Response generated for chat session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff
2025-05-15 12:50:39,489 - INFO - Chat messages saved for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff
2025-05-15 12:51:14,429 - INFO - Uploading file: sample.pdf for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:51:15,510 - INFO - File uploaded successfully: sample.pdf for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:51:15,701 - INFO - File metadata saved to Firestore: e77861e2-77c4-43eb-9186-5b4180482d3f
2025-05-15 12:51:22,284 - INFO - Chat session initialized/updated: 5fa0e552-cacc-4c98-b2c4-e650c2997bff
2025-05-15 12:51:32,447 - INFO - Response generated for chat session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff
2025-05-15 12:51:32,535 - INFO - Chat messages saved for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff
2025-05-15 12:51:46,643 - INFO - Uploading file: sample 2.png for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:51:46,952 - INFO - File uploaded successfully: sample 2.png for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:51:47,059 - INFO - File metadata saved to Firestore: 8961c211-ace7-4838-b6a7-dd1b55ef2113
2025-05-15 12:51:54,368 - INFO - Chat session initialized/updated: 5fa0e552-cacc-4c98-b2c4-e650c2997bff
2025-05-15 12:51:59,943 - INFO - Response generated for chat session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff
2025-05-15 12:52:00,003 - INFO - Chat messages saved for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff
2025-05-15 12:52:04,298 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:52:04,360 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:52:04,442 - INFO - Fetching chat messages for session: 323bfb83-5309-4a66-ab5e-55005a35a9f6 for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:52:04,451 - WARNING - Chat session not found: 323bfb83-5309-4a66-ab5e-55005a35a9f6 for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:52:04,451 - ERROR - Error fetching chat messages for session 323bfb83-5309-4a66-ab5e-55005a35a9f6 for user 4VNN1XZquSR88N9h9PsIb07SF033: 404: Chat not found
2025-05-15 12:52:06,227 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:52:11,306 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 12:52:24,402 - INFO - Chat session initialized/updated: 323bfb83-5309-4a66-ab5e-55005a35a9f6
2025-05-15 12:52:27,002 - INFO - Generated code: 
import pandas as pd

try:
    df_jabodetabek_2021 = df[
        (df['year'] == 2021) &
        (df['prov'].isin(['DKI Jakarta', 'Jawa Barat', 'Banten'])) &
        (df['kab'].isin([
            'Kota Jakarta Barat', 'Kota Jakarta Pusat', 'Kota Jakarta Selatan', 'Kota Jakarta Timur', 'Kota Jakarta Utara',
            'Kab. Bogor', 'Kab. Bekasi', 'Kab. Karawang', 'Kab. Purwakarta', 'Kab. Subang', 'Kab. Cianjur', 'Kota Bogor', 'Kota Bekasi', 'Kota Depok',
            'Kab. Tangerang', 'Kota Tangerang', 'Kota Tangerang Selatan', 'Kota Cilegon', 'Kota Serang'
        ]))
    ]

    if df_jabodetabek_2021.empty:
        raise ValueError("Tidak ada data JABODETABEK tahun 2021")

    final_answer = df_jabodetabek_2021.copy()

except Exception as e:
    if "Pertanyaan tidak dapat dijawab" in str(e):
        raise ValueError("Pertanyaan tidak dapat dijawab")
    else:
        raise ValueError(f"Terjadi kesalahan: {e}")
2025-05-15 12:52:32,360 - INFO - Response generated for chat session: 323bfb83-5309-4a66-ab5e-55005a35a9f6
2025-05-15 12:52:32,494 - INFO - Chat messages saved for session: 323bfb83-5309-4a66-ab5e-55005a35a9f6
2025-05-15 12:52:43,595 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 12:52:43,604 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:52:43,687 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:52:43,792 - INFO - Fetching chat messages for session: 7c667195-417b-498c-a8c6-c7517f9a29a1 for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:52:43,792 - WARNING - Chat session not found: 7c667195-417b-498c-a8c6-c7517f9a29a1 for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:52:43,800 - ERROR - Error fetching chat messages for session 7c667195-417b-498c-a8c6-c7517f9a29a1 for user 4VNN1XZquSR88N9h9PsIb07SF033: 404: Chat not found
2025-05-15 12:52:45,755 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:52:53,018 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 12:53:02,469 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:02,559 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:02,669 - INFO - Fetching chat messages for session: 323bfb83-5309-4a66-ab5e-55005a35a9f6 for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:02,677 - INFO - Sorting chat messages for session: 323bfb83-5309-4a66-ab5e-55005a35a9f6 for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:02,678 - INFO - Chat messages fetched successfully for session: 323bfb83-5309-4a66-ab5e-55005a35a9f6 for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:09,878 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:09,961 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:10,052 - INFO - Fetching chat messages for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:10,055 - INFO - Sorting chat messages for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:10,055 - INFO - Chat messages fetched successfully for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:25,952 - INFO - Fetching chat messages for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:25,952 - INFO - Sorting chat messages for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:25,955 - INFO - Chat messages fetched successfully for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:27,813 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:27,919 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:28,026 - INFO - Fetching chat messages for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:28,030 - INFO - Sorting chat messages for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:28,031 - INFO - Chat messages fetched successfully for session: 5fa0e552-cacc-4c98-b2c4-e650c2997bff for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:32,355 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:53:32,369 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:32,451 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:32,560 - INFO - Fetching chat messages for session: b9de9640-9126-48c3-ac23-ddf48a788e2f for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:32,566 - WARNING - Chat session not found: b9de9640-9126-48c3-ac23-ddf48a788e2f for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 12:53:32,567 - ERROR - Error fetching chat messages for session b9de9640-9126-48c3-ac23-ddf48a788e2f for user 4VNN1XZquSR88N9h9PsIb07SF033: 404: Chat not found
2025-05-15 12:53:34,403 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:53:39,427 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 12:53:45,211 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:53:50,752 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 12:53:58,569 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:54:01,753 - INFO - Chat session initialized/updated: b9de9640-9126-48c3-ac23-ddf48a788e2f
2025-05-15 12:54:08,220 - INFO - Response generated for chat session: b9de9640-9126-48c3-ac23-ddf48a788e2f
2025-05-15 12:54:08,288 - INFO - Chat messages saved for session: b9de9640-9126-48c3-ac23-ddf48a788e2f
2025-05-15 12:54:16,579 - INFO - Chat session initialized/updated: b9de9640-9126-48c3-ac23-ddf48a788e2f
2025-05-15 12:54:23,352 - INFO - Response generated for chat session: b9de9640-9126-48c3-ac23-ddf48a788e2f
2025-05-15 12:54:23,420 - INFO - Chat messages saved for session: b9de9640-9126-48c3-ac23-ddf48a788e2f
2025-05-15 12:55:39,537 - INFO - User login attempt: akmal
2025-05-15 12:55:39,537 - INFO - User found: akmal@gmail.com
2025-05-15 12:55:39,911 - INFO - Custom token created for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 12:55:45,577 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:55:52,645 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 12:56:00,938 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 12:56:47,626 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 12:56:47,626 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 12:56:56,468 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 12:56:56,873 - INFO - Use pytorch device_name: cpu
2025-05-15 12:56:56,877 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 12:57:04,216 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 12:57:11,265 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:57:16,201 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 12:57:20,205 - INFO - User login attempt: akmal
2025-05-15 12:57:20,208 - INFO - User found: akmal@gmail.com
2025-05-15 12:57:20,565 - INFO - Custom token created for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 12:57:23,292 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 12:57:23,391 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 12:57:25,005 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:57:26,702 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:57:29,003 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 12:58:06,714 - INFO - Chat session initialized/updated: 4b6573a2-dfde-4026-af8e-aa64925276a0
2025-05-15 12:58:08,010 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv')
df.fillna(0, inplace=True)

final_answer = df.groupby('kab')[['kepadatan_penduduk_kabkota', 'penjualan']].corr().loc[:, 'penjualan']['kepadatan_penduduk_kabkota']
2025-05-15 12:58:13,953 - INFO - Response generated for chat session: 4b6573a2-dfde-4026-af8e-aa64925276a0
2025-05-15 12:58:14,028 - INFO - Chat messages saved for session: 4b6573a2-dfde-4026-af8e-aa64925276a0
2025-05-15 12:58:36,315 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 12:58:36,406 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 12:58:36,532 - INFO - Fetching chat messages for session: 45e558c4-4cf2-4b33-98ff-48ca069e4bfe for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 12:58:36,534 - WARNING - Chat session not found: 45e558c4-4cf2-4b33-98ff-48ca069e4bfe for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 12:58:36,536 - ERROR - Error fetching chat messages for session 45e558c4-4cf2-4b33-98ff-48ca069e4bfe for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 12:58:38,327 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 12:58:41,194 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 12:58:42,420 - INFO - Chat session initialized/updated: 45e558c4-4cf2-4b33-98ff-48ca069e4bfe
2025-05-15 12:58:44,163 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv').fillna(0)
final_answer = df.groupby('prov')[['inflasi', 'penjualan']].corr().loc[:, 'inflasi']['penjualan'].reset_index()
2025-05-15 12:58:50,004 - INFO - Response generated for chat session: 45e558c4-4cf2-4b33-98ff-48ca069e4bfe
2025-05-15 12:58:50,061 - INFO - Chat messages saved for session: 45e558c4-4cf2-4b33-98ff-48ca069e4bfe
2025-05-15 13:00:11,001 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 13:00:11,003 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 13:00:24,696 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 13:00:25,591 - INFO - Use pytorch device_name: cpu
2025-05-15 13:00:25,591 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 13:01:01,335 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 13:01:01,782 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 13:01:02,013 - INFO - Fetching chat messages for session: 45e558c4-4cf2-4b33-98ff-48ca069e4bfe for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 13:01:02,013 - INFO - Sorting chat messages for session: 45e558c4-4cf2-4b33-98ff-48ca069e4bfe for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 13:01:02,023 - INFO - Chat messages fetched successfully for session: 45e558c4-4cf2-4b33-98ff-48ca069e4bfe for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 13:01:09,724 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 13:01:09,862 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 13:01:09,989 - INFO - Fetching chat messages for session: 45e558c4-4cf2-4b33-98ff-48ca069e4bfe for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 13:01:10,033 - INFO - Sorting chat messages for session: 45e558c4-4cf2-4b33-98ff-48ca069e4bfe for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 13:01:10,112 - INFO - Chat messages fetched successfully for session: 45e558c4-4cf2-4b33-98ff-48ca069e4bfe for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 13:01:31,369 - INFO - User login attempt: zuhdi3@gmail.com
2025-05-15 13:01:31,376 - INFO - User found: zuhdi3@gmail.com
2025-05-15 13:01:31,743 - INFO - Custom token created for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:01:34,579 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:01:34,961 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:01:36,686 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 13:01:38,259 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 13:01:48,119 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 13:01:49,998 - INFO - Chat session initialized/updated: 60b591cf-9990-4c24-ac15-8813edb03a60
2025-05-15 13:01:51,835 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv')
df.fillna(0, inplace=True)

final_answer = df[['kab', 'penjualan', 'kepadatan_penduduk_kabkota', 'upah_ratarata_perjam']].corr()
2025-05-15 13:01:56,261 - INFO - Response generated for chat session: 60b591cf-9990-4c24-ac15-8813edb03a60
2025-05-15 13:01:56,353 - INFO - Chat messages saved for session: 60b591cf-9990-4c24-ac15-8813edb03a60
2025-05-15 13:03:47,162 - INFO - Chat session initialized/updated: 60b591cf-9990-4c24-ac15-8813edb03a60
2025-05-15 13:03:48,358 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv')
df.fillna(0, inplace=True)

final_answer = df[(df['kab'] == 'Kab. Morowali Utara') & (df['year'] == 2023)][['pdrb_adhk', 'garis_kemiskinan_kabkota']]
2025-05-15 13:03:53,815 - INFO - Response generated for chat session: 60b591cf-9990-4c24-ac15-8813edb03a60
2025-05-15 13:03:53,903 - INFO - Chat messages saved for session: 60b591cf-9990-4c24-ac15-8813edb03a60
2025-05-15 13:04:02,600 - INFO - Chat session initialized/updated: 60b591cf-9990-4c24-ac15-8813edb03a60
2025-05-15 13:04:04,143 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv').fillna(0)
final_answer = df[(df['kab'] == 'Kab. Morowali Utara') & (df['year'] == 2023)][['kepadatan_penduduk_kabkota', 'kepadatan_sepeda_motor_kabkota']]
2025-05-15 13:04:08,262 - INFO - Response generated for chat session: 60b591cf-9990-4c24-ac15-8813edb03a60
2025-05-15 13:04:08,352 - INFO - Chat messages saved for session: 60b591cf-9990-4c24-ac15-8813edb03a60
2025-05-15 13:07:09,604 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 13:07:09,604 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 13:07:16,905 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 13:07:17,416 - INFO - Use pytorch device_name: cpu
2025-05-15 13:07:17,416 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 13:07:41,228 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:07:41,597 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:07:41,765 - INFO - Fetching chat messages for session: ecebc596-c228-49b8-b689-a8898368a2a8 for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:07:41,771 - WARNING - Chat session not found: ecebc596-c228-49b8-b689-a8898368a2a8 for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:07:41,782 - ERROR - Error fetching chat messages for session ecebc596-c228-49b8-b689-a8898368a2a8 for user 4VNN1XZquSR88N9h9PsIb07SF033: 404: Chat not found
2025-05-15 13:07:43,370 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 13:07:46,578 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 13:07:50,669 - INFO - Chat session initialized/updated: ecebc596-c228-49b8-b689-a8898368a2a8
2025-05-15 13:07:51,928 - INFO - Generated code: 
import pandas as pd
df = pd.read_csv('dataset/fix_2w.csv').fillna(0)
final_answer = df[['kepadatan_penduduk_kabkota', 'penjualan']].corr()
2025-05-15 13:07:56,286 - INFO - Response generated for chat session: ecebc596-c228-49b8-b689-a8898368a2a8
2025-05-15 13:07:56,370 - INFO - Chat messages saved for session: ecebc596-c228-49b8-b689-a8898368a2a8
2025-05-15 13:08:00,194 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:00,303 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:00,402 - INFO - Fetching chat messages for session: 39dd3e81-252a-4b3a-b475-a830cd1b77be for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:00,402 - WARNING - Chat session not found: 39dd3e81-252a-4b3a-b475-a830cd1b77be for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:00,402 - ERROR - Error fetching chat messages for session 39dd3e81-252a-4b3a-b475-a830cd1b77be for user 4VNN1XZquSR88N9h9PsIb07SF033: 404: Chat not found
2025-05-15 13:08:01,890 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 13:08:06,308 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 13:08:07,635 - INFO - Chat session initialized/updated: 39dd3e81-252a-4b3a-b475-a830cd1b77be
2025-05-15 13:08:09,212 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv').fillna(0)

provinces = df['prov'].unique()
final_answer = pd.DataFrame()

for province in provinces:
    province_data = df[df['prov'] == province]
    if len(province_data['kab'].unique()) > 1:
        province_sales = province_data.groupby('kab')['penjualan'].agg(['mean', 'std']).reset_index()
        province_sales['prov'] = province
        final_answer = pd.concat([final_answer, province_sales], ignore_index=True)
2025-05-15 13:08:14,786 - INFO - Response generated for chat session: 39dd3e81-252a-4b3a-b475-a830cd1b77be
2025-05-15 13:08:14,860 - INFO - Chat messages saved for session: 39dd3e81-252a-4b3a-b475-a830cd1b77be
2025-05-15 13:08:18,171 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:18,270 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:18,361 - INFO - Fetching chat messages for session: df80702e-0a37-4828-bb49-5d7c5dabac0a for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:18,361 - WARNING - Chat session not found: df80702e-0a37-4828-bb49-5d7c5dabac0a for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:18,361 - ERROR - Error fetching chat messages for session df80702e-0a37-4828-bb49-5d7c5dabac0a for user 4VNN1XZquSR88N9h9PsIb07SF033: 404: Chat not found
2025-05-15 13:08:19,925 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 13:08:26,812 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 13:08:28,860 - INFO - Chat session initialized/updated: df80702e-0a37-4828-bb49-5d7c5dabac0a
2025-05-15 13:08:30,545 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv')
df.fillna(0, inplace=True)

final_answer = df.groupby('cluster')['penjualan'].agg(['mean', 'std', 'count'])
2025-05-15 13:08:36,254 - INFO - Response generated for chat session: df80702e-0a37-4828-bb49-5d7c5dabac0a
2025-05-15 13:08:36,319 - INFO - Chat messages saved for session: df80702e-0a37-4828-bb49-5d7c5dabac0a
2025-05-15 13:08:39,608 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:39,711 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:39,805 - INFO - Fetching chat messages for session: 997e8fb6-cb87-4966-b958-d0bf93b97470 for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:39,805 - WARNING - Chat session not found: 997e8fb6-cb87-4966-b958-d0bf93b97470 for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:08:39,808 - ERROR - Error fetching chat messages for session 997e8fb6-cb87-4966-b958-d0bf93b97470 for user 4VNN1XZquSR88N9h9PsIb07SF033: 404: Chat not found
2025-05-15 13:08:41,455 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 13:08:45,984 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 13:08:47,825 - INFO - Chat session initialized/updated: 997e8fb6-cb87-4966-b958-d0bf93b97470
2025-05-15 13:08:49,444 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv')
df.fillna(0, inplace=True)

corr_kepadatan = df['penjualan'].corr(df['kepadatan_penduduk_kabkota'])
corr_upah = df['penjualan'].corr(df['upah_ratarata_perjam'])

final_answer = pd.DataFrame({
    'Korelasi dengan Kepadatan Penduduk': [corr_kepadatan],
    'Korelasi dengan Upah Rata-rata Per Jam': [corr_upah]
})
2025-05-15 13:08:53,812 - INFO - Response generated for chat session: 997e8fb6-cb87-4966-b958-d0bf93b97470
2025-05-15 13:08:53,900 - INFO - Chat messages saved for session: 997e8fb6-cb87-4966-b958-d0bf93b97470
2025-05-15 13:11:18,989 - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\Huawei\anaconda3\Lib\asyncio\events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\Huawei\anaconda3\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host
2025-05-15 13:11:19,024 - INFO - Fetching chat history for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:11:19,486 - INFO - Chat history fetched successfully for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:11:19,619 - INFO - Fetching chat messages for session: 4cccbb85-84a6-4866-b51f-5649aaf5414f for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:11:19,623 - WARNING - Chat session not found: 4cccbb85-84a6-4866-b51f-5649aaf5414f for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:11:19,626 - ERROR - Error fetching chat messages for session 4cccbb85-84a6-4866-b51f-5649aaf5414f for user 4VNN1XZquSR88N9h9PsIb07SF033: 404: Chat not found
2025-05-15 13:11:21,365 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 13:12:47,131 - INFO - Clearing all chat sessions for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:12:47,701 - INFO - All chat sessions cleared for user: 4VNN1XZquSR88N9h9PsIb07SF033
2025-05-15 13:16:34,188 - INFO - User created: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:16:34,293 - INFO - User data saved to Firestore: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:16:48,170 - INFO - User login attempt: arkan2@gmail.com
2025-05-15 13:16:48,173 - INFO - User found: arkan2@gmail.com
2025-05-15 13:16:48,571 - INFO - Custom token created for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:16:51,844 - INFO - Fetching chat history for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:16:51,883 - INFO - Chat history fetched successfully for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:16:53,999 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 13:16:55,735 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 13:16:59,320 - INFO - Chat session initialized/updated: 5ac4e4a5-2fdd-492b-8f1e-47126e9b73f2
2025-05-15 13:17:04,131 - INFO - Response generated for chat session: 5ac4e4a5-2fdd-492b-8f1e-47126e9b73f2
2025-05-15 13:17:04,209 - INFO - Chat messages saved for session: 5ac4e4a5-2fdd-492b-8f1e-47126e9b73f2
2025-05-15 13:17:11,326 - INFO - Uploading file: sample.pdf for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:17:12,410 - INFO - File uploaded successfully: sample.pdf for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:17:12,440 - INFO - File metadata saved to Firestore: 93723ec8-ffc6-4c3c-b553-a7b060c528d9
2025-05-15 13:17:34,412 - INFO - Chat session initialized/updated: 5ac4e4a5-2fdd-492b-8f1e-47126e9b73f2
2025-05-15 13:17:53,389 - INFO - Response generated for chat session: 5ac4e4a5-2fdd-492b-8f1e-47126e9b73f2
2025-05-15 13:17:53,456 - INFO - Chat messages saved for session: 5ac4e4a5-2fdd-492b-8f1e-47126e9b73f2
2025-05-15 13:18:04,478 - INFO - Uploading file: sample 2.png for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:18:05,033 - INFO - File uploaded successfully: sample 2.png for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:18:05,088 - INFO - File metadata saved to Firestore: d48f92b4-1a23-4cce-b79e-8a20b7c3dc92
2025-05-15 13:18:12,164 - INFO - Chat session initialized/updated: 5ac4e4a5-2fdd-492b-8f1e-47126e9b73f2
2025-05-15 13:18:17,756 - INFO - Response generated for chat session: 5ac4e4a5-2fdd-492b-8f1e-47126e9b73f2
2025-05-15 13:18:17,817 - INFO - Chat messages saved for session: 5ac4e4a5-2fdd-492b-8f1e-47126e9b73f2
2025-05-15 13:18:34,039 - INFO - Fetching chat history for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:18:34,144 - INFO - Chat history fetched successfully for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:18:34,241 - INFO - Fetching chat messages for session: 99071ee7-a7e6-4b51-9795-7c6f993ff395 for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:18:34,243 - WARNING - Chat session not found: 99071ee7-a7e6-4b51-9795-7c6f993ff395 for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:18:34,245 - ERROR - Error fetching chat messages for session 99071ee7-a7e6-4b51-9795-7c6f993ff395 for user IozHszTlCVejumiorbR2UnP9srL2: 404: Chat not found
2025-05-15 13:18:35,850 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 13:18:40,207 - INFO - Initial questions fetched for chat option: 4 Wheels
2025-05-15 13:18:48,134 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 13:18:56,141 - INFO - Chat session initialized/updated: 99071ee7-a7e6-4b51-9795-7c6f993ff395
2025-05-15 13:18:58,001 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv')
df.fillna(0, inplace=True)

try:
    df_jawab = df[(df['prov'] == 'Jawa Barat') & (df['year'].isin(range(2018,2024)))]
    
    if df_jawab.empty:
        raise ValueError("Data tidak tersedia untuk periode tersebut")

    final_answer = df_jawab.groupby('kab')[['pdrb_adhk', 'penjualan']].agg(['min', 'max', 'mean', 'std'])

except KeyError:
    raise ValueError("Pertanyaan tidak dapat dijawab")
except ValueError as e:
    raise ValueError(e)
2025-05-15 13:19:03,847 - INFO - Response generated for chat session: 99071ee7-a7e6-4b51-9795-7c6f993ff395
2025-05-15 13:19:03,925 - INFO - Chat messages saved for session: 99071ee7-a7e6-4b51-9795-7c6f993ff395
2025-05-15 13:19:13,067 - INFO - Clearing all chat sessions for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:19:13,194 - INFO - All chat sessions cleared for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:48:52,787 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 13:49:57,528 - INFO - Fetching chat messages for session: 704c217c-3f34-4963-a307-5ceb4e66dcbf for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:49:57,575 - WARNING - Chat session not found: 704c217c-3f34-4963-a307-5ceb4e66dcbf for user: IozHszTlCVejumiorbR2UnP9srL2
2025-05-15 13:49:57,577 - ERROR - Error fetching chat messages for session 704c217c-3f34-4963-a307-5ceb4e66dcbf for user IozHszTlCVejumiorbR2UnP9srL2: 404: Chat not found
2025-05-15 13:50:00,112 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 16:03:38,063 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 16:03:38,064 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 16:03:44,394 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 16:03:45,303 - INFO - Use pytorch device_name: cpu
2025-05-15 16:03:45,303 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 16:05:16,437 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 16:05:16,559 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:05:16,889 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:05:17,007 - INFO - Fetching chat messages for session: 79f4527d-2f28-4afb-8c64-2c68fcc02255 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:05:17,008 - WARNING - Chat session not found: 79f4527d-2f28-4afb-8c64-2c68fcc02255 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:05:17,010 - ERROR - Error fetching chat messages for session 79f4527d-2f28-4afb-8c64-2c68fcc02255 for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 16:05:18,694 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 16:05:21,984 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 16:05:22,926 - INFO - Chat session initialized/updated: 79f4527d-2f28-4afb-8c64-2c68fcc02255
2025-05-15 16:05:25,509 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv')
df.fillna(0, inplace=True)

provincial_sales = df.groupby('prov')['penjualan'].sum()
average_sales_by_province = df.groupby('prov')['penjualan'].mean()
average_density_by_province = df.groupby('prov')['kepadatan_penduduk_kabkota'].mean()
average_wage_by_province = df.groupby('prov')['upah_ratarata_perjam'].mean()


final_answer = pd.DataFrame({
    'Total Penjualan': provincial_sales,
    'Rata-rata Penjualan': average_sales_by_province,
    'Rata-rata Kepadatan Penduduk': average_density_by_province,
    'Rata-rata Upah Rata-rata': average_wage_by_province
})
2025-05-15 16:05:30,976 - INFO - Response generated for chat session: 79f4527d-2f28-4afb-8c64-2c68fcc02255
2025-05-15 16:05:31,068 - INFO - Chat messages saved for session: 79f4527d-2f28-4afb-8c64-2c68fcc02255
2025-05-15 16:12:37,314 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 16:12:37,314 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 16:12:42,344 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 16:12:42,656 - INFO - Use pytorch device_name: cpu
2025-05-15 16:12:42,656 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 16:12:51,375 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:12:51,825 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:12:52,010 - INFO - Fetching chat messages for session: b402b0c7-d3ce-4d48-aad0-26120d42d041 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:12:52,011 - WARNING - Chat session not found: b402b0c7-d3ce-4d48-aad0-26120d42d041 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:12:52,012 - ERROR - Error fetching chat messages for session b402b0c7-d3ce-4d48-aad0-26120d42d041 for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 16:12:53,691 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 16:12:56,582 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 16:12:57,435 - INFO - Chat session initialized/updated: b402b0c7-d3ce-4d48-aad0-26120d42d041
2025-05-15 16:12:58,523 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv')
df.fillna(0, inplace=True)
final_answer = df.groupby('year')['penjualan'].sum().reset_index()
2025-05-15 16:13:02,939 - INFO - Response generated for chat session: b402b0c7-d3ce-4d48-aad0-26120d42d041
2025-05-15 16:13:03,011 - INFO - Chat messages saved for session: b402b0c7-d3ce-4d48-aad0-26120d42d041
2025-05-15 16:13:10,210 - INFO - Chat session initialized/updated: b402b0c7-d3ce-4d48-aad0-26120d42d041
2025-05-15 16:13:11,402 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv')
df.fillna(0, inplace=True)

df_filtered = df[(df['year'] >= 2020) & (df['year'] <= 2023)]
final_answer = df_filtered.groupby(['year', 'cluster'])['penjualan'].sum().unstack()
2025-05-15 16:13:16,172 - INFO - Response generated for chat session: b402b0c7-d3ce-4d48-aad0-26120d42d041
2025-05-15 16:13:16,269 - INFO - Chat messages saved for session: b402b0c7-d3ce-4d48-aad0-26120d42d041
2025-05-15 16:13:23,695 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:13:23,827 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:13:23,919 - INFO - Fetching chat messages for session: aa30f0f0-885a-4d7f-b417-aa50b52b9f7a for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:13:23,921 - WARNING - Chat session not found: aa30f0f0-885a-4d7f-b417-aa50b52b9f7a for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:13:23,922 - ERROR - Error fetching chat messages for session aa30f0f0-885a-4d7f-b417-aa50b52b9f7a for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 16:13:25,531 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 16:13:27,585 - INFO - Initial questions fetched for chat option: 2 Wheels
2025-05-15 16:13:28,355 - INFO - Chat session initialized/updated: aa30f0f0-885a-4d7f-b417-aa50b52b9f7a
2025-05-15 16:13:30,166 - INFO - Generated code: 
import pandas as pd

df = pd.read_csv('dataset/fix_2w.csv')
df.fillna(0, inplace=True)

provinsi_penjualan = df.groupby('prov')['penjualan'].sum()
provinsi_pertumbuhan = provinsi_penjualan.sort_values(ascending=False)

tertinggi = provinsi_pertumbuhan.index[0]
terendah = provinsi_pertumbuhan.index[-1]

final_answer = pd.DataFrame({
    'Provinsi Pertumbuhan Tertinggi': [tertinggi],
    'Provinsi Pertumbuhan Terendah': [terendah]
})
2025-05-15 16:13:34,110 - INFO - Response generated for chat session: aa30f0f0-885a-4d7f-b417-aa50b52b9f7a
2025-05-15 16:13:34,179 - INFO - Chat messages saved for session: aa30f0f0-885a-4d7f-b417-aa50b52b9f7a
2025-05-15 16:14:36,112 - INFO - Clearing all chat sessions for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 16:14:36,922 - INFO - All chat sessions cleared for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 17:28:00,674 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 17:56:59,946 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-15 17:56:59,947 - INFO - NumExpr defaulting to 8 threads.
2025-05-15 17:57:05,695 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-15 17:57:06,192 - INFO - Use pytorch device_name: cpu
2025-05-15 17:57:06,192 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-15 18:18:33,259 - INFO - Chat session initialized/updated: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:18:36,078 - INFO - Response generated for chat session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:18:36,245 - INFO - Chat messages saved for session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:18:49,765 - INFO - Chat session initialized/updated: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:18:52,257 - INFO - Response generated for chat session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:18:52,328 - INFO - Chat messages saved for session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:19:07,391 - INFO - Chat session initialized/updated: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:19:10,065 - INFO - Response generated for chat session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:19:10,136 - INFO - Chat messages saved for session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:19:21,539 - INFO - Chat session initialized/updated: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:19:24,505 - INFO - Response generated for chat session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:19:24,574 - INFO - Chat messages saved for session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:19:27,123 - INFO - Chat session initialized/updated: d564bb12-e1f9-4324-8971-0ffa2455978b
2025-05-15 18:19:35,670 - INFO - Response generated for chat session: d564bb12-e1f9-4324-8971-0ffa2455978b
2025-05-15 18:19:35,810 - INFO - Chat messages saved for session: d564bb12-e1f9-4324-8971-0ffa2455978b
2025-05-15 18:19:55,747 - INFO - Chat session initialized/updated: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:20:03,007 - INFO - Response generated for chat session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:20:03,082 - INFO - Chat messages saved for session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:20:27,150 - INFO - Chat session initialized/updated: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:20:34,239 - INFO - Response generated for chat session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:20:34,323 - INFO - Chat messages saved for session: ebc69f20-1c13-43e2-a4bd-c7254322e643
2025-05-15 18:20:50,108 - INFO - User created: wL1ewFcfhqbPrIMF05sRgrPx0GE2
2025-05-15 18:20:50,182 - INFO - User data saved to Firestore: wL1ewFcfhqbPrIMF05sRgrPx0GE2
2025-05-15 18:21:10,487 - INFO - User login attempt: noviraprajna3@gmail.com
2025-05-15 18:21:10,491 - INFO - User found: noviraprajna3@gmail.com
2025-05-15 18:21:10,496 - ERROR - Login error: 401: Invalid password
2025-05-15 18:21:13,835 - INFO - User login attempt: noviraprajna3@gmail.com
2025-05-15 18:21:13,839 - INFO - User found: noviraprajna3@gmail.com
2025-05-15 18:21:14,179 - INFO - Custom token created for user: wL1ewFcfhqbPrIMF05sRgrPx0GE2
2025-05-15 18:21:39,649 - INFO - Chat session initialized/updated: 1eeebc9a-80a6-44eb-921e-29a98c25f70b
2025-05-15 18:21:43,255 - INFO - Response generated for chat session: 1eeebc9a-80a6-44eb-921e-29a98c25f70b
2025-05-15 18:21:43,327 - INFO - Chat messages saved for session: 1eeebc9a-80a6-44eb-921e-29a98c25f70b
2025-05-15 18:45:02,619 - INFO - User login attempt: akmal
2025-05-15 18:45:02,621 - INFO - User found: akmal@gmail.com
2025-05-15 18:45:02,971 - INFO - Custom token created for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:45:18,317 - INFO - Chat session initialized/updated: ffcb8cb6-e521-4afd-a6ca-8628dcbda6e1
2025-05-15 18:45:21,481 - INFO - Response generated for chat session: ffcb8cb6-e521-4afd-a6ca-8628dcbda6e1
2025-05-15 18:45:21,586 - INFO - Chat messages saved for session: ffcb8cb6-e521-4afd-a6ca-8628dcbda6e1
2025-05-15 18:51:09,903 - INFO - Chat session initialized/updated: 775ed25e-3893-4871-a02a-0dceafd0a2c1
2025-05-15 18:51:12,505 - INFO - Response generated for chat session: 775ed25e-3893-4871-a02a-0dceafd0a2c1
2025-05-15 18:51:12,572 - INFO - Chat messages saved for session: 775ed25e-3893-4871-a02a-0dceafd0a2c1
2025-05-15 18:51:14,657 - INFO - Chat session initialized/updated: 775ed25e-3893-4871-a02a-0dceafd0a2c1
2025-05-15 18:51:17,212 - INFO - Response generated for chat session: 775ed25e-3893-4871-a02a-0dceafd0a2c1
2025-05-15 18:51:17,288 - INFO - Chat messages saved for session: 775ed25e-3893-4871-a02a-0dceafd0a2c1
2025-05-15 18:53:41,360 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:53:41,520 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:53:41,601 - INFO - Fetching chat messages for session: 47b981a4-4a89-47ab-8756-a53e56bac7d1 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:53:41,603 - WARNING - Chat session not found: 47b981a4-4a89-47ab-8756-a53e56bac7d1 for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:53:41,604 - ERROR - Error fetching chat messages for session 47b981a4-4a89-47ab-8756-a53e56bac7d1 for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 18:53:43,335 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 18:53:48,990 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:53:49,071 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:53:49,144 - INFO - Fetching chat messages for session: 39cdcf4d-59b6-4cc9-9d08-1e98d918b3bd for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:53:49,146 - WARNING - Chat session not found: 39cdcf4d-59b6-4cc9-9d08-1e98d918b3bd for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:53:49,147 - ERROR - Error fetching chat messages for session 39cdcf4d-59b6-4cc9-9d08-1e98d918b3bd for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 18:53:50,710 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-15 18:53:52,744 - INFO - Chat session initialized/updated: 39cdcf4d-59b6-4cc9-9d08-1e98d918b3bd
2025-05-15 18:53:57,413 - INFO - Response generated for chat session: 39cdcf4d-59b6-4cc9-9d08-1e98d918b3bd
2025-05-15 18:53:57,480 - INFO - Chat messages saved for session: 39cdcf4d-59b6-4cc9-9d08-1e98d918b3bd
2025-05-15 18:53:58,926 - INFO - Clearing all chat sessions for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:53:59,609 - INFO - All chat sessions cleared for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:54:01,185 - INFO - Chat session initialized/updated: e3d10549-abed-4fdc-97cc-a302c54e46fb
2025-05-15 18:54:06,597 - INFO - Response generated for chat session: e3d10549-abed-4fdc-97cc-a302c54e46fb
2025-05-15 18:54:06,661 - INFO - Chat messages saved for session: e3d10549-abed-4fdc-97cc-a302c54e46fb
2025-05-15 18:54:08,189 - INFO - Fetching chat history for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:54:08,258 - INFO - Chat history fetched successfully for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:54:08,339 - INFO - Fetching chat messages for session: 81c0d001-1b78-4ed9-b569-64ffd5e494fa for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:54:08,340 - WARNING - Chat session not found: 81c0d001-1b78-4ed9-b569-64ffd5e494fa for user: MZl75nA53EeO3ZzSFbNXM8PtV3A2
2025-05-15 18:54:08,343 - ERROR - Error fetching chat messages for session 81c0d001-1b78-4ed9-b569-64ffd5e494fa for user MZl75nA53EeO3ZzSFbNXM8PtV3A2: 404: Chat not found
2025-05-15 18:54:09,962 - INFO - Initial questions fetched for chat option: General Macroeconomics
2025-05-16 09:09:56,087 - INFO - Note: NumExpr detected 18 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-05-16 09:09:56,088 - INFO - NumExpr defaulting to 8 threads.
2025-05-16 09:10:03,343 - WARNING - From C:\Users\Huawei\anaconda3\Lib\site-packages\tf_keras\src\losses.py:2976: The name tf.losses.sparse_softmax_cross_entropy is deprecated. Please use tf.compat.v1.losses.sparse_softmax_cross_entropy instead.

2025-05-16 09:10:03,844 - INFO - Use pytorch device_name: cpu
2025-05-16 09:10:03,844 - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-05-16 09:16:08,416 - INFO - User created: evdhnPl9a7dGDGUbFEZBrX2gbmJ2
2025-05-16 09:16:08,939 - INFO - User data saved to Firestore: evdhnPl9a7dGDGUbFEZBrX2gbmJ2
2025-05-16 09:16:20,720 - INFO - User login attempt: saya
2025-05-16 09:16:20,726 - INFO - User found: saya@gmail.com
2025-05-16 09:16:21,115 - INFO - Custom token created for user: evdhnPl9a7dGDGUbFEZBrX2gbmJ2
2025-05-16 09:17:36,463 - INFO - Chat session initialized/updated: fcdabd43-87e8-4c52-b356-5ed597df3e12
2025-05-16 09:17:43,523 - INFO - Response generated for chat session: fcdabd43-87e8-4c52-b356-5ed597df3e12
2025-05-16 09:17:43,605 - INFO - Chat messages saved for session: fcdabd43-87e8-4c52-b356-5ed597df3e12
